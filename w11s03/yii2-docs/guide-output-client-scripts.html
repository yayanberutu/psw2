<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="language" content="en" />
        <link href="./assets/963b888/css/bootstrap.css" rel="stylesheet">
<link href="./assets/e1ef68af/solarized_light.css" rel="stylesheet">
<link href="./assets/407eef69/style.css" rel="stylesheet">
<script src="./assets/5b23384c/jquery.js"></script>
<script src="./assets/963b888/js/bootstrap.js"></script>
<script src="./assets/538e96fb/jssearch.js"></script>    <title>Working with Client Scripts - Displaying Data - The Definitive Guide to Yii 2.0</title>
</head>
<body>

<div class="wrap">
    <nav id="w1327" class="navbar-inverse navbar-fixed-top navbar"><div class="navbar-header"><button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#w1327-collapse"><span class="sr-only">Toggle navigation</span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
<span class="icon-bar"></span></button><a class="navbar-brand" href="./index.html">The Definitive Guide to Yii 2.0</a></div><div id="w1327-collapse" class="collapse navbar-collapse"><ul id="w1328" class="navbar-nav nav"><li><a href="./index.html">Class reference</a></li>
<li class="dropdown"><a class="dropdown-toggle" href="#" data-toggle="dropdown">Extensions <span class="caret"></span></a><ul id="w1329" class="dropdown-menu"><li><a href="./ext-apidoc-index.html" tabindex="-1">apidoc</a></li>
<li><a href="./ext-authclient-index.html" tabindex="-1">authclient</a></li>
<li><a href="./ext-bootstrap-index.html" tabindex="-1">bootstrap</a></li>
<li><a href="./ext-debug-index.html" tabindex="-1">debug</a></li>
<li><a href="./ext-elasticsearch-index.html" tabindex="-1">elasticsearch</a></li>
<li><a href="./ext-faker-index.html" tabindex="-1">faker</a></li>
<li><a href="./ext-gii-index.html" tabindex="-1">gii</a></li>
<li><a href="./ext-httpclient-index.html" tabindex="-1">httpclient</a></li>
<li><a href="./ext-imagine-index.html" tabindex="-1">imagine</a></li>
<li><a href="./ext-jui-index.html" tabindex="-1">jui</a></li>
<li><a href="./ext-mongodb-index.html" tabindex="-1">mongodb</a></li>
<li><a href="./ext-redis-index.html" tabindex="-1">redis</a></li>
<li><a href="./ext-shell-index.html" tabindex="-1">shell</a></li>
<li><a href="./ext-smarty-index.html" tabindex="-1">smarty</a></li>
<li><a href="./ext-sphinx-index.html" tabindex="-1">sphinx</a></li>
<li><a href="./ext-swiftmailer-index.html" tabindex="-1">swiftmailer</a></li>
<li><a href="./ext-twig-index.html" tabindex="-1">twig</a></li></ul></li>
<li><a href="./guide-README.html">Guide</a></li></ul><div class="navbar-form navbar-left" role="search">
  <div class="form-group">
    <input id="searchbox" type="text" class="form-control" placeholder="Search">
  </div>
</div>
</div></nav>
    <div id="search-resultbox" style="display: none;" class="modal-content">
        <ul id="search-results">
        </ul>
    </div>

    
<div class="row">
    <div class="col-md-2">
                <div id="navigation" class="list-group"><a class="list-group-item" href="#navigation-1311" data-toggle="collapse" data-parent="#navigation">Introduction <b class="caret"></b></a><div id="navigation-1311" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-intro-yii.html">About Yii</a>
<a class="list-group-item" href="./guide-intro-upgrade-from-v1.html">Upgrading from Version 1.1</a></div>
<a class="list-group-item" href="#navigation-1312" data-toggle="collapse" data-parent="#navigation">Getting Started <b class="caret"></b></a><div id="navigation-1312" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-start-prerequisites.html">What do you need to know</a>
<a class="list-group-item" href="./guide-start-installation.html">Installing Yii</a>
<a class="list-group-item" href="./guide-start-workflow.html">Running Applications</a>
<a class="list-group-item" href="./guide-start-hello.html">Saying Hello</a>
<a class="list-group-item" href="./guide-start-forms.html">Working with Forms</a>
<a class="list-group-item" href="./guide-start-databases.html">Working with Databases</a>
<a class="list-group-item" href="./guide-start-gii.html">Generating Code with Gii</a>
<a class="list-group-item" href="./guide-start-looking-ahead.html">Looking Ahead</a></div>
<a class="list-group-item" href="#navigation-1313" data-toggle="collapse" data-parent="#navigation">Application Structure <b class="caret"></b></a><div id="navigation-1313" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-structure-overview.html">Application Structure Overview</a>
<a class="list-group-item" href="./guide-structure-entry-scripts.html">Entry Scripts</a>
<a class="list-group-item" href="./guide-structure-applications.html">Applications</a>
<a class="list-group-item" href="./guide-structure-application-components.html">Application Components</a>
<a class="list-group-item" href="./guide-structure-controllers.html">Controllers</a>
<a class="list-group-item" href="./guide-structure-models.html">Models</a>
<a class="list-group-item" href="./guide-structure-views.html">Views</a>
<a class="list-group-item" href="./guide-structure-modules.html">Modules</a>
<a class="list-group-item" href="./guide-structure-filters.html">Filters</a>
<a class="list-group-item" href="./guide-structure-widgets.html">Widgets</a>
<a class="list-group-item" href="./guide-structure-assets.html">Assets</a>
<a class="list-group-item" href="./guide-structure-extensions.html">Extensions</a></div>
<a class="list-group-item" href="#navigation-1314" data-toggle="collapse" data-parent="#navigation">Handling Requests <b class="caret"></b></a><div id="navigation-1314" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-runtime-overview.html">Request Handling Overview</a>
<a class="list-group-item" href="./guide-runtime-bootstrapping.html">Bootstrapping</a>
<a class="list-group-item" href="./guide-runtime-routing.html">Routing and URL Creation</a>
<a class="list-group-item" href="./guide-runtime-requests.html">Requests</a>
<a class="list-group-item" href="./guide-runtime-responses.html">Responses</a>
<a class="list-group-item" href="./guide-runtime-sessions-cookies.html">Sessions and Cookies</a>
<a class="list-group-item" href="./guide-runtime-handling-errors.html">Handling Errors</a>
<a class="list-group-item" href="./guide-runtime-logging.html">Logging</a></div>
<a class="list-group-item" href="#navigation-1315" data-toggle="collapse" data-parent="#navigation">Key Concepts <b class="caret"></b></a><div id="navigation-1315" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-concept-components.html">Components</a>
<a class="list-group-item" href="./guide-concept-properties.html">Properties</a>
<a class="list-group-item" href="./guide-concept-events.html">Events</a>
<a class="list-group-item" href="./guide-concept-behaviors.html">Behaviors</a>
<a class="list-group-item" href="./guide-concept-configurations.html">Configurations</a>
<a class="list-group-item" href="./guide-concept-aliases.html">Aliases</a>
<a class="list-group-item" href="./guide-concept-autoloading.html">Class Autoloading</a>
<a class="list-group-item" href="./guide-concept-service-locator.html">Service Locator</a>
<a class="list-group-item" href="./guide-concept-di-container.html">Dependency Injection Container</a></div>
<a class="list-group-item" href="#navigation-1316" data-toggle="collapse" data-parent="#navigation">Working with Databases <b class="caret"></b></a><div id="navigation-1316" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-db-dao.html">Database Access Objects</a>
<a class="list-group-item" href="./guide-db-query-builder.html">Query Builder</a>
<a class="list-group-item" href="./guide-db-active-record.html">Active Record</a>
<a class="list-group-item" href="./guide-db-migrations.html">Migrations</a>
<a class="list-group-item" href="https://www.yiiframework.com/extension/yiisoft/yii2-sphinx/doc/guide">Sphinx</a>
<a class="list-group-item" href="https://www.yiiframework.com/extension/yiisoft/yii2-redis/doc/guide">Redis</a>
<a class="list-group-item" href="https://www.yiiframework.com/extension/yiisoft/yii2-mongodb/doc/guide">MongoDB</a>
<a class="list-group-item" href="https://www.yiiframework.com/extension/yiisoft/yii2-elasticsearch/doc/guide">ElasticSearch</a></div>
<a class="list-group-item" href="#navigation-1317" data-toggle="collapse" data-parent="#navigation">Getting Data from Users <b class="caret"></b></a><div id="navigation-1317" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-input-forms.html">Creating Forms</a>
<a class="list-group-item" href="./guide-input-validation.html">Validating Input</a>
<a class="list-group-item" href="./guide-input-file-upload.html">Uploading Files</a>
<a class="list-group-item" href="./guide-input-tabular-input.html">Collecting Tabular Input</a>
<a class="list-group-item" href="./guide-input-multiple-models.html">Getting Data for Multiple Models</a>
<a class="list-group-item" href="./guide-input-form-javascript.html">Extending ActiveForm on the Client Side</a></div>
<a class="list-group-item active" href="#navigation-1318" data-toggle="collapse" data-parent="#navigation">Displaying Data <b class="caret"></b></a><div id="navigation-1318" class="submenu panel-collapse collapse in"><a class="list-group-item" href="./guide-output-formatting.html">Data Formatting</a>
<a class="list-group-item" href="./guide-output-pagination.html">Pagination</a>
<a class="list-group-item" href="./guide-output-sorting.html">Sorting</a>
<a class="list-group-item" href="./guide-output-data-providers.html">Data Providers</a>
<a class="list-group-item" href="./guide-output-data-widgets.html">Data Widgets</a>
<a class="list-group-item active" href="./guide-output-client-scripts.html">Working with Client Scripts</a>
<a class="list-group-item" href="./guide-output-theming.html">Theming</a></div>
<a class="list-group-item" href="#navigation-1319" data-toggle="collapse" data-parent="#navigation">Security <b class="caret"></b></a><div id="navigation-1319" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-security-overview.html">Security Overview</a>
<a class="list-group-item" href="./guide-security-authentication.html">Authentication</a>
<a class="list-group-item" href="./guide-security-authorization.html">Authorization</a>
<a class="list-group-item" href="./guide-security-passwords.html">Working with Passwords</a>
<a class="list-group-item" href="./guide-security-cryptography.html">Cryptography</a>
<a class="list-group-item" href="https://www.yiiframework.com/extension/yiisoft/yii2-authclient/doc/guide">Auth Clients</a>
<a class="list-group-item" href="./guide-security-best-practices.html">Best Practices</a></div>
<a class="list-group-item" href="#navigation-1320" data-toggle="collapse" data-parent="#navigation">Caching <b class="caret"></b></a><div id="navigation-1320" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-caching-overview.html">Caching Overview</a>
<a class="list-group-item" href="./guide-caching-data.html">Data Caching</a>
<a class="list-group-item" href="./guide-caching-fragment.html">Fragment Caching</a>
<a class="list-group-item" href="./guide-caching-page.html">Page Caching</a>
<a class="list-group-item" href="./guide-caching-http.html">HTTP Caching</a></div>
<a class="list-group-item" href="#navigation-1321" data-toggle="collapse" data-parent="#navigation">RESTful Web Services <b class="caret"></b></a><div id="navigation-1321" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-rest-quick-start.html">Quick Start</a>
<a class="list-group-item" href="./guide-rest-resources.html">Resources</a>
<a class="list-group-item" href="./guide-rest-controllers.html">Controllers</a>
<a class="list-group-item" href="./guide-rest-routing.html">Routing</a>
<a class="list-group-item" href="./guide-rest-response-formatting.html">Response Formatting</a>
<a class="list-group-item" href="./guide-rest-authentication.html">Authentication</a>
<a class="list-group-item" href="./guide-rest-rate-limiting.html">Rate Limiting</a>
<a class="list-group-item" href="./guide-rest-versioning.html">Versioning</a>
<a class="list-group-item" href="./guide-rest-error-handling.html">Error Handling</a></div>
<a class="list-group-item" href="#navigation-1322" data-toggle="collapse" data-parent="#navigation">Development Tools <b class="caret"></b></a><div id="navigation-1322" class="submenu panel-collapse collapse"><a class="list-group-item" href="https://www.yiiframework.com/extension/yiisoft/yii2-debug/doc/guide">Debug Toolbar and Debugger</a>
<a class="list-group-item" href="https://www.yiiframework.com/extension/yiisoft/yii2-gii/doc/guide">Generating Code using Gii</a>
<a class="list-group-item" href="https://www.yiiframework.com/extension/yiisoft/yii2-apidoc">Generating API Documentation</a></div>
<a class="list-group-item" href="#navigation-1323" data-toggle="collapse" data-parent="#navigation">Testing <b class="caret"></b></a><div id="navigation-1323" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-test-overview.html">Testing Overview</a>
<a class="list-group-item" href="./guide-test-environment-setup.html">Testing environment setup</a>
<a class="list-group-item" href="./guide-test-unit.html">Unit Tests</a>
<a class="list-group-item" href="./guide-test-functional.html">Functional Tests</a>
<a class="list-group-item" href="./guide-test-acceptance.html">Acceptance Tests</a>
<a class="list-group-item" href="./guide-test-fixtures.html">Fixtures</a></div>
<a class="list-group-item" href="#navigation-1324" data-toggle="collapse" data-parent="#navigation">Special Topics <b class="caret"></b></a><div id="navigation-1324" class="submenu panel-collapse collapse"><a class="list-group-item" href="https://www.yiiframework.com/extension/yiisoft/yii2-app-advanced/doc/guide">Advanced Project Template</a>
<a class="list-group-item" href="./guide-tutorial-start-from-scratch.html">Building Application from Scratch</a>
<a class="list-group-item" href="./guide-tutorial-console.html">Console Commands</a>
<a class="list-group-item" href="./guide-tutorial-core-validators.html">Core Validators</a>
<a class="list-group-item" href="./guide-tutorial-docker.html">Docker</a>
<a class="list-group-item" href="./guide-tutorial-i18n.html">Internationalization</a>
<a class="list-group-item" href="./guide-tutorial-mailing.html">Mailing</a>
<a class="list-group-item" href="./guide-tutorial-performance-tuning.html">Performance Tuning</a>
<a class="list-group-item" href="./guide-tutorial-shared-hosting.html">Shared Hosting Environment</a>
<a class="list-group-item" href="./guide-tutorial-template-engines.html">Template Engines</a>
<a class="list-group-item" href="./guide-tutorial-yii-integration.html">Working with Third-Party Code</a>
<a class="list-group-item" href="./guide-tutorial-yii-as-micro-framework.html">Using Yii as a micro framework</a></div>
<a class="list-group-item" href="#navigation-1325" data-toggle="collapse" data-parent="#navigation">Widgets <b class="caret"></b></a><div id="navigation-1325" class="submenu panel-collapse collapse"><a class="list-group-item" href="https://www.yiiframework.com/doc-2.0/yii-grid-gridview.html">GridView</a>
<a class="list-group-item" href="https://www.yiiframework.com/doc-2.0/yii-widgets-listview.html">ListView</a>
<a class="list-group-item" href="https://www.yiiframework.com/doc-2.0/yii-widgets-detailview.html">DetailView</a>
<a class="list-group-item" href="https://www.yiiframework.com/doc-2.0/guide-input-forms.html#activerecord-based-forms-activeform">ActiveForm</a>
<a class="list-group-item" href="https://www.yiiframework.com/doc-2.0/yii-widgets-pjax.html">Pjax</a>
<a class="list-group-item" href="https://www.yiiframework.com/doc-2.0/yii-widgets-menu.html">Menu</a>
<a class="list-group-item" href="https://www.yiiframework.com/doc-2.0/yii-widgets-linkpager.html">LinkPager</a>
<a class="list-group-item" href="https://www.yiiframework.com/doc-2.0/yii-widgets-linksorter.html">LinkSorter</a>
<a class="list-group-item" href="https://www.yiiframework.com/extension/yiisoft/yii2-bootstrap/doc/guide">Bootstrap Widgets</a>
<a class="list-group-item" href="https://www.yiiframework.com/extension/yiisoft/yii2-jui/doc/guide">jQuery UI Widgets</a></div>
<a class="list-group-item" href="#navigation-1326" data-toggle="collapse" data-parent="#navigation">Helpers <b class="caret"></b></a><div id="navigation-1326" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-helper-overview.html">Helpers Overview</a>
<a class="list-group-item" href="./guide-helper-array.html">ArrayHelper</a>
<a class="list-group-item" href="./guide-helper-html.html">Html</a>
<a class="list-group-item" href="./guide-helper-url.html">Url</a></div></div>    </div>
    <div class="col-md-9 guide-content" role="main">
        <h1>Working with Client Scripts <span id="working-with-client-scripts"></span><a href="#working-with-client-scripts" class="hashlink">&para;</a></h1>
<div class="toc"><ol><li><a href="#register-scripts">Registering scripts</a></li>
<li><a href="#register-css">Registering CSS</a></li>
<li><a href="#asset-bundles">Registering asset bundles</a></li>
<li><a href="#dynamic-js">Generating Dynamic Javascript</a></li>
<li><a href="#yii.js">The yii.js script</a></li></ol></div>
<p>Modern web applications, additionally to static HTML pages that are
rendered and sent to the browser, contain JavaScript that is used
to modify the page in the browser by manipulating existing elements or
loading new content via AJAX.
This section describes methods provided by Yii for adding JavaScript and CSS to a website as well as dynamically adjusting these.</p>
<h2>Registering scripts  <span id="register-scripts"></span><a href="#register-scripts" class="hashlink">&para;</a></h2><p>When working with the <a href="./yii-web-view.html">yii\web\View</a> object you can dynamically register frontend scripts.
There are two dedicated methods for this:</p>
<ul>
<li><a href="./yii-web-view.html#registerJs()-detail">registerJs()</a> for inline scripts</li>
<li><a href="./yii-web-view.html#registerJsFile()-detail">registerJsFile()</a> for external scripts</li>
</ul>
<h3>Registering inline scripts  <span id="inline-scripts"></span><a href="#inline-scripts" class="hashlink">&para;</a></h3><p>Inline scripts are useful for configuration, dynamically generated code and small snippets created by reusable frontend code contained in <a href="guide-structure-widgets.html">widgets</a>.
The <a href="./yii-web-view.html#registerJs()-detail">registerJs()</a> method for adding these can be used as follows:</p>
<pre><code class="hljs php language-php"><span class="hljs-variable">$this</span>-&gt;registerJs(
    <span class="hljs-string">"$('#myButton').on('click', function() { alert('Button clicked!'); });"</span>,
    View::POS_READY,
    <span class="hljs-string">'my-button-handler'</span>
);
</code></pre>
<p>The first argument is the actual JS code we want to insert into the page.
It will be wrapped into a <code>&lt;script&gt;</code> tag. The second argument
determines at which position the script should be inserted into the page. Possible values are:</p>
<ul>
<li><a href="./yii-web-view.html#POS_HEAD-detail">View::POS_HEAD</a> for head section.</li>
<li><a href="./yii-web-view.html#POS_BEGIN-detail">View::POS_BEGIN</a> for right after opening <code>&lt;body&gt;</code>.</li>
<li><a href="./yii-web-view.html#POS_END-detail">View::POS_END</a> for right before closing <code>&lt;/body&gt;</code>.</li>
<li><a href="./yii-web-view.html#POS_READY-detail">View::POS_READY</a> for executing code on the <a href="http://learn.jquery.com/using-jquery-core/document-ready/">document <code>ready</code> event</a>.
This will automatically register <a href="./yii-web-jqueryasset.html">jQuery</a> and wrap the code into the appropriate jQuery code. This is the default position.</li>
<li><a href="./yii-web-view.html#POS_LOAD-detail">View::POS_LOAD</a> for executing code on the
<a href="http://learn.jquery.com/using-jquery-core/document-ready/">document <code>load</code> event</a>. Same as the above, this will also register <a href="./yii-web-jqueryasset.html">jQuery</a> automatically.</li>
</ul>
<p>The last argument is a unique script ID that is used to identify the script code block and replace an existing one with the same ID
instead of adding a new one. If you don't provide it, the JS code itself will be used as the ID. It is used to avoid registration of the same code muliple times.</p>
<h3>Registering script files  <span id="script-files"></span><a href="#script-files" class="hashlink">&para;</a></h3><p>The arguments for <a href="./yii-web-view.html#registerJsFile()-detail">registerJsFile()</a> are similar to those for
<a href="./yii-web-view.html#registerCssFile()-detail">registerCssFile()</a>. In the following example,
we register the <code>main.js</code> file with the dependency on the <a href="./yii-web-jqueryasset.html">yii\web\JqueryAsset</a>. It means that the <code>main.js</code> file
will be added AFTER <code>jquery.js</code>. Without such dependency specification, the relative order between
<code>main.js</code> and <code>jquery.js</code> would be undefined and the code would not work.</p>
<p>An external script can be added like the following:</p>
<pre><code class="hljs php language-php"><span class="hljs-variable">$this</span>-&gt;registerJsFile(
    <span class="hljs-string">'@web/js/main.js'</span>,
    [<span class="hljs-string">'depends'</span> =&gt; [\yii\web\JqueryAsset::className()]]
);
</code></pre>
<p>This will add a tag for the <code>/js/main.js</code> script located under the application <a href="guide-concept-aliases.html#predefined-aliases">base URL</a>.</p>
<p>It is highly recommended to use <a href="guide-structure-assets.html">asset bundles</a> to register external JS files rather than <a href="./yii-web-view.html#registerJsFile()-detail">registerJsFile()</a> because these allow better flexibility and more granular dependency configuration. Also using asset bundles allows you to combine and compress
multiple JS files, which is desirable for high traffic websites.</p>
<h2>Registering CSS  <span id="register-css"></span><a href="#register-css" class="hashlink">&para;</a></h2><p>Similar to JavaScript, you can register CSS using
<a href="./yii-web-view.html#registerCss()-detail">registerCss()</a> or 
<a href="./yii-web-view.html#registerCssFile()-detail">registerCssFile()</a>.
The former registers a block of CSS code while the latter registers an external CSS file.</p>
<h3>Registering inline CSS  <span id="inline-css"></span><a href="#inline-css" class="hashlink">&para;</a></h3><pre><code class="hljs php language-php"><span class="hljs-variable">$this</span>-&gt;registerCss(<span class="hljs-string">"body { background: #f00; }"</span>);
</code></pre>
<p>The code above will result in adding the following to the <code>&lt;head&gt;</code> section of the page:</p>
<pre><code class="hljs xml language-html"><span class="hljs-tag">&lt;<span class="hljs-title">style</span>&gt;</span><span class="css">
<span class="hljs-tag">body</span> <span class="hljs-rules">{ <span class="hljs-rule"><span class="hljs-attribute">background</span>:<span class="hljs-value"> <span class="hljs-hexcolor">#f00</span></span></span>; }</span>
</span><span class="hljs-tag">&lt;/<span class="hljs-title">style</span>&gt;</span>
</code></pre>
<p>If you want to specify additional properties of the style tag, pass an array of name-values to the second argument.
The last argument is a unique ID that is used to identify the style block and make sure it is only added once in case the same style is registered from different places in the code.</p>
<h3>Registering CSS files  <span id="css-files"></span><a href="#css-files" class="hashlink">&para;</a></h3><p>A CSS file can be registered using the following:</p>
<pre><code class="hljs php language-php"><span class="hljs-variable">$this</span>-&gt;registerCssFile(<span class="hljs-string">"@web/css/themes/black-and-white.css"</span>, [
    <span class="hljs-string">'depends'</span> =&gt; [\yii\bootstrap\BootstrapAsset::className()],
    <span class="hljs-string">'media'</span> =&gt; <span class="hljs-string">'print'</span>,
], <span class="hljs-string">'css-print-theme'</span>);
</code></pre>
<p>The above code will add a link to the <code>/css/themes/black-and-white.css</code> CSS file to the <code>&lt;head&gt;</code> section of the page.</p>
<ul>
<li>The first argument specifies the CSS file to be registered.
The <code>@web</code> in this example is an <a href="guide-concept-aliases.html#predefined-aliases">alias for the applications base URL</a>.</li>
<li>The second argument specifies the HTML attributes for the resulting <code>&lt;link&gt;</code> tag. The option <code>depends</code>
is specially handled. It specifies which asset bundles this CSS file depends on. In this case, the dependent
asset bundle is <a href="./yii-bootstrap-bootstrapasset.html">BootstrapAsset</a>. This means the CSS file will be added
<em>after</em> the CSS files from <a href="./yii-bootstrap-bootstrapasset.html">BootstrapAsset</a>.</li>
<li>The last argument specifies an ID identifying this CSS file. If it is not provided, the URL of the CSS file will be
used instead.</li>
</ul>
<p>It is highly recommended to use <a href="guide-structure-assets.html">asset bundles</a> to register external CSS files rather than
<a href="./yii-web-view.html#registerCssFile()-detail">registerCssFile()</a>. Using asset bundles allows you to combine and compress
multiple CSS files, which is desirable for high traffic websites.
It also provides more flexibility as all asset dependencies of your application are configured in one place.</p>
<h2>Registering asset bundles  <span id="asset-bundles"></span><a href="#asset-bundles" class="hashlink">&para;</a></h2><p>As was mentioned earlier it's recommended to use asset bundles instead of registering CSS and JavaScript files directly.
You can get details on how to define asset bundles in the
<a href="guide-structure-assets.html">"Assets" section</a>.
As for using already defined asset bundles, it's very straightforward:</p>
<pre><code class="hljs php language-php">\frontend\assets\AppAsset::register(<span class="hljs-variable">$this</span>);
</code></pre>
<p>In the above code, in the context of a view file, the <code>AppAsset</code> bundle is registered on the current view (represented by <code>$this</code>).
When registering asset bundles from within a widget, you would pass the
<a href="./yii-base-widget.html#$view-detail">$view</a> of the widget instead (<code>$this-&gt;view</code>).</p>
<h2>Generating Dynamic Javascript  <span id="dynamic-js"></span><a href="#dynamic-js" class="hashlink">&para;</a></h2><p>In view files often the HTML code is not written out directly but generated
by some PHP code dependent on the variables of the view.
In order for the generated HTML to be manipulated with Javascript, the JS code has to contain dynamic parts too, for example the IDs of the jQuery selectors.</p>
<p>To insert PHP variables into JS code, their values have to be
escaped properly. Especially when the JS code is inserted into
HTML instead of residing in a dedicated JS file.
Yii provides the <a href="./yii-helpers-basejson.html#htmlEncode()-detail">htmlEncode()</a> method of the <a href="./yii-helpers-json.html">Json</a> helper for this purpose. Its usage will be shown in the following examples.</p>
<h3>Registering a global JavaScript configuration  <span id="js-configuration"></span><a href="#js-configuration" class="hashlink">&para;</a></h3><p>In this example we use an array to pass global configuration parameters from
the PHP part of the application to the JS frontend code.</p>
<pre><code class="hljs php language-php"><span class="hljs-variable">$options</span> = [
    <span class="hljs-string">'appName'</span> =&gt; Yii::<span class="hljs-variable">$app</span>-&gt;name,
    <span class="hljs-string">'baseUrl'</span> =&gt; Yii::<span class="hljs-variable">$app</span>-&gt;request-&gt;baseUrl,
    <span class="hljs-string">'language'</span> =&gt; Yii::<span class="hljs-variable">$app</span>-&gt;language,
    <span class="hljs-comment">// ...</span>
];
<span class="hljs-variable">$this</span>-&gt;registerJs(
    <span class="hljs-string">"var yiiOptions = "</span>.\yii\helpers\Json::htmlEncode(<span class="hljs-variable">$options</span>).<span class="hljs-string">";"</span>,
    View::POS_HEAD,
    <span class="hljs-string">'yiiOptions'</span>
);
</code></pre>
<p>The above code will register a <code>&lt;script&gt;</code>-tag containing the JavaScript
variable definition, e.g.:</p>
<pre><code class="hljs javascript language-javascript"><span class="hljs-keyword">var</span> yiiOptions = {<span class="hljs-string">"appName"</span>:<span class="hljs-string">"My Yii Application"</span>,<span class="hljs-string">"baseUrl"</span>:<span class="hljs-string">"/basic/web"</span>,<span class="hljs-string">"language"</span>:<span class="hljs-string">"en"</span>};
</code></pre>
<p>In your JavaScript code you can now access these like <code>yiiOptions.baseUrl</code> or <code>yiiOptions.language</code>.</p>
<h3>Passing translated messages  <span id="translated-messages"></span><a href="#translated-messages" class="hashlink">&para;</a></h3><p>You may encounter a case where your JavaScript needs to print a message reacting to some event. In an application that works with multiple languages this string has to be translated to the current application language.
One way to achieve this is to use the
<a href="guide-tutorial-i18n.html#message-translation">message translation feature</a> provided by Yii and passing the result to the JavaScript code.</p>
<pre><code class="hljs php language-php"><span class="hljs-variable">$message</span> = \yii\helpers\Json::htmlEncode(
    \Yii::t(<span class="hljs-string">'app'</span>, <span class="hljs-string">'Button clicked!'</span>)
);
<span class="hljs-variable">$this</span>-&gt;registerJs(<span class="hljs-string">&lt;&lt;&lt;JS
    $('#myButton').on('click', function() { alert( <span class="hljs-subst">$message</span> ); });
JS</span>
);
</code></pre>
<p>The above example code uses PHP
<a href="https://secure.php.net/manual/en/language.types.string.php#language.types.string.syntax.heredoc">Heredoc syntax</a> for better readability. This also enables better syntax highlighting in most IDEs so it is the
preferred way of writing inline JavaScript, especially useful for code that is longer than a single line. The variable <code>$message</code> is created in PHP and
thanks to <a href="./yii-helpers-basejson.html#htmlEncode()-detail">Json::htmlEncode</a> it contains the 
string in valid JS syntax, which can be inserted into the JavaScript code to place the dynamic string in the function call to <code>alert()</code>.</p>
<blockquote class="note"><p><strong>Note: </strong>When using Heredoc, be careful with variable naming in JS code
as variables beginning with <code>$</code> may be interpreted as PHP variables which
will be replaced by their content.
The jQuery function in form of <code>$(</code> or <code>$.</code> is not interpreted
as a PHP variable and can safely be used.</p>
</blockquote>
<h2>The <code>yii.js</code> script  <span id="yii.js"></span><a href="#yii.js" class="hashlink">&para;</a></h2><blockquote class="note"><p><strong>Note: </strong>This section has not been written yet. It should contain explanation of the functionality provided by <code>yii.js</code>:</p>
<ul>
<li>Yii JavaScript Modules</li>
<li>CSRF param handling</li>
<li><code>data-confirm</code> handler</li>
<li><code>data-method</code> handler</li>
<li>script filtering</li>
<li>redirect handling</li>
</ul>
</blockquote>
        <div class="toplink"><a href="#" class="h1" title="go to top"><span class="glyphicon glyphicon-arrow-up"></a></div>
    </div>
</div>


</div>

<footer class="footer">
        <p class="pull-right"><small>Page generated on Wed, 10 Apr 2019 23:20:40 +0000</small></p>
    Powered by <a href="http://www.yiiframework.com/" rel="external">Yii Framework</a></footer>

<script>jQuery(function ($) {
    var shiftWindow = function () { scrollBy(0, -50) };
    if (location.hash) setTimeout(shiftWindow, 1);
    window.addEventListener("hashchange", shiftWindow);
var element = document.createElement("script");
element.src = "./jssearch.index.js";
document.body.appendChild(element);

var searchBox = $('#searchbox');

// search when typing in search field
searchBox.on("keyup", function(event) {
    var query = $(this).val();

    if (query == '' || event.which == 27) {
        $('#search-resultbox').hide();
        return;
    } else if (event.which == 13) {
        var selectedLink = $('#search-resultbox a.selected');
        if (selectedLink.length != 0) {
            document.location = selectedLink.attr('href');
            return;
        }
    } else if (event.which == 38 || event.which == 40) {
        $('#search-resultbox').show();

        var selected = $('#search-resultbox a.selected');
        if (selected.length == 0) {
            $('#search-results').find('a').first().addClass('selected');
        } else {
            var next;
            if (event.which == 40) {
                next = selected.parent().next().find('a').first();
            } else {
                next = selected.parent().prev().find('a').first();
            }
            if (next.length != 0) {
                var resultbox = $('#search-results');
                var position = next.position();

//              TODO scrolling is buggy and jumps around
//                resultbox.scrollTop(Math.floor(position.top));
//                console.log(position.top);

                selected.removeClass('selected');
                next.addClass('selected');
            }
        }

        return;
    }
    $('#search-resultbox').show();
    $('#search-results').html('<li><span class="no-results">No results</span></li>');

    var result = jssearch.search(query);

    if (result.length > 0) {
        var i = 0;
        var resHtml = '';

        for (var key in result) {
            if (i++ > 20) {
                break;
            }
            resHtml = resHtml +
            '<li><a href="' + result[key].file.u.substr(3) +'"><span class="title">' + result[key].file.t + '</span>' +
            '<span class="description">' + result[key].file.d + '</span></a></li>';
        }
        $('#search-results').html(resHtml);
    }
});

// hide the search results on ESC
$(document).on("keyup", function(event) { if (event.which == 27) { $('#search-resultbox').hide(); } });
// hide search results on click to document
$(document).bind('click', function (e) { $('#search-resultbox').hide(); });
// except the following:
searchBox.bind('click', function(e) { e.stopPropagation(); });
$('#search-resultbox').bind('click', function(e) { e.stopPropagation(); });

});</script></body>
</html>
